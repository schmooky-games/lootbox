---
title: Получение списка и общего числа лутбоксов
description: Получение списка и общего числа лутбоксов
---

## Получение списка лутбоксов

**Endpoint:** `GET /lootboxes`

Возвращает список лутбоксов с возможностью пагинации и поиска.

**Параметры запроса:**
- `limit` (целое число, по умолчанию 10): Максимальное количество возвращаемых лутбоксов (от 1 до 100).
- `offset` (целое число, по умолчанию 0): Смещение для пагинации.
- `search` (строка, опционально): Строка поиска для фильтрации лутбоксов по названию.

**Ответ:**
Возвращает список объектов лутбоксов (`EqualLootbox`, `WeightedLootbox` или `ExclusiveLootbox`).

<details>
  <summary>Пример ответа</summary>

  ```json
  {
    "lootboxes": [
      {
        "id": "eb9f21d4-c5f7-4108-8f05-e7b23b6c84d1",
        "meta": {
          "name": "Пример лутбокса"
        },
        "type": "equal",
        "items": [
          {
            "id": "item1",
            "data": { "value": "" },
            "meta": {
              "name": "Меч"
            }
          },
          {
            "id": "item2",
            "data": { "value": "" },
            "meta": {
              "name": "Щит"
            }
          },
          {
            "id": "item3",
            "data": { "value": "" },
            "meta": {
              "name": "Зелье здоровья"
            }
          }
        ],
        "draws_count": 5,
        "is_active": true
      },
      {
        "id": "7a9e8b3c-2d1f-4e6a-9c8b-3d7f1e2a5b4c",
        "meta": {
          "name": "Пример взвешенного лутбокса"
        },
        "type": "weighted",
        "items": [
          {
            "id": "item1",
            "data": { "value": "" },
            "meta": {
              "name": "Редкий меч"
            },
            "weight": 10.0
          },
          {
            "id": "item2",
            "data": { "value": "" },
            "meta": {
              "name": "Обычный щит"
            },
            "weight": 30.0
          },
          {
            "id": "item3",
            "data": { "value": "" },
            "meta": {
              "name": "Зелье маны"
            },
            "weight": 60.0
          }
        ],
        "draws_count": 3,
        "is_active": true
      }
    ],
    "total_count": 2
  }
  ```
</details>

## Получение общего количества лутбоксов

**Endpoint:** `GET /lootboxes_total_count`

Возвращает общее количество лутбоксов в системе.

**Ответ:**
Возвращает объект с полем `total_count`, содержащим общее количество лутбоксов.

## Обработка ошибок

API может возвращать следующие ошибки:

- `400 Bad Request`:
  - `1002`: Пустой список лутбоксов.

При возникновении ошибки API возвращает соответствующий статус-код и детальное описание проблемы.